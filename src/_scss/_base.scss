:root {
  --animation: 0.5s in cubic-bezier(0.25, 0, 0.5, 1) forwards;
  --outline__offset: var(--size__xs);
  --outline__size: calc(var(--size__xxs) * 2);
  --outline__style: dotted;
  --type__family--primary: degular-text, sans-serif;
  --type__family--secondary: swear-display, serif;
  --type__family--tertiary: dico-mono, mono;
  &[data-theme="dark"] {
    @media screen {
      --color__hue--base: 218deg 100% 100%;
      --color__hue--contrast: 218deg 16% 12%;
      --color__hue--contrast--extra: 218deg 32% 4%;
      --shadow__color: var(--color__hue--contrast--extra);
      --shadow__value: 0.75;
    }
  }
}

body {
  grid-template-columns: 1fr min(75ch, calc(100% - var(--size__l) * 2)) 1fr;
  grid-template-rows: auto 1fr auto;
  min-height: 100vh;
  @media (min-width: 99rem) {
    grid-template-columns: 1fr min(90ch, calc(100% - var(--size__l) * 2)) 1fr;
  }
  > header,
  main,
  article,
  > footer {
    grid-column: 1/-1;
    grid-template-columns: inherit;
  }
}

main {
  @media (min-width: 63rem) {
    padding: var(--size__xxxl) 0;
  }
}

article {
  > * {
    grid-column: 2;
  }
  > * + h2,
  > h2 + *,
  > * + h3,
  > * + hr {
    margin-top: var(--size__xxxl) !important;
  }
  > hr + * {
    margin-top: var(--size__m) !important;
  }
}

body > header,
body > footer {
  > * {
    grid-column: 2;
    @media (min-width: 29rem) {
      flex-direction: row !important;
      justify-content: space-between !important;
    }
  }
}

body > header {
  position: sticky;
  top: 0;
  z-index: 100;
  @supports (backdrop-filter: blur(32px)) {
    background-color: hsl(var(--color__hue--contrast) / 0.625);
    backdrop-filter: blur(32px);
  }
  @supports not (backdrop-filter: blur(32px)) {
    background-color: hsl(var(--color__hue--contrast) / 0.98);
  }
}

body > header a[aria-current="page"] {
  color: var(--color__base);
  text-decoration-color: var(--color__highlight--semi);
  text-decoration-thickness: calc(var(--size__xxs) * 2);
  text-decoration-line: underline;
  text-underline-offset: var(--size__xs);
}

h1 {
  color: var(--color__highlight);
  font-size: var(--type__size--xxxl);
  font-weight: 800;
  line-height: var(--type__lineheight--xxxl);
  @media (min-width: 79rem) {
    font-size: var(--type__size--xxxxl);
    line-height: var(--type__lineheight--xxxxl);
  }
}

h1,
h2 {
  font-family: var(--type__family--secondary);
}

h2,
h3,
h4,
h5 {
  color: var(--color__base--ish);
}

h3,
h4,
h5,
body > header > nav > a:first-child strong {
  font-weight: 800;
}

p a,
li a {
  &:focus-visible {
    background-color: var(--color__highlight--ghost);
  }
}

p a {
  font-weight: 600;
  text-decoration-color: var(--color__highlight--semi);
  text-decoration-thickness: calc(var(--size__xxs) * 2);
}

nav a,
footer button {
  transition: color 0.375s ease-in;
  &:focus,
  &:hover {
    color: var(--color__highlight);
  }
}

code,
pre {
  --color__primary: hsl(260deg 64% 75%);
  --color__secondary: hsl(190deg 64% 75%);
  --color__tertiary: hsl(158deg 90% 75%);
}

pre .comment {
  font-family: dico-mono-script, mono;
  white-space: break-spaces;
}

.notch {
  @supports (padding: max(0px)) {
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }
}

// Animations
@keyframes in {
  to {
    transform: none;
  }
}

@keyframes slideIn {
  to {
    transform: scale(1) translate(-50%, -50%);
  }
}
